import React, { useState } from 'react';
import logo from "../assets/logo.png";
import { IoSearchSharp } from "react-icons/io5";
import { GiHamburgerMenu } from "react-icons/gi";
import { RxCross2 } from "react-icons/rx";
import { FiMenu as Menu, FiX as X } from "react-icons/fi"; // Added missing imports
import { Link } from "react-router-dom"; // Added missing import

const Navbar = () => {
      // Define state for the mobile menu
      const [isMenuOpen, setIsMenuOpen] = useState(false);
      const [mobileDrawerOpen, setMobileDrawerOpen] = useState(false);

      // Define handler functions
      const toggleMenu = () => setIsMenuOpen(!isMenuOpen);
      const toggleNavbar = () => setMobileDrawerOpen(!mobileDrawerOpen);

      // Define navItems (you need to provide your actual navigation items)
      const navItems = [
            { href: "/", label: "Home" },
            { href: "/products", label: "Products" },
            { href: "/about", label: "About" },
            // Add more items as needed
      ];

      return (
            <nav className="sticky bg-primary/40 shadow-md top-0 py-3 backdrop-blur-lg border-neutral-700 duration-200 z-40">
                  <div className="container px-4 mx-auto relative">
                        <div className="flex justify-between items-center">
                              {/* Logo Section */}
                              <div className="flex items-center flex-shrink-0">
                                    <img className="h-8 w-8 sm:h-10 sm:w-10 mr-2" src={logo} alt="logo" />
                                    <span className="text-xl sm:text-2xl md:text-3xl font-serif font-bold text-orange-600 tracking-tight whitespace-nowrap overflow-hidden text-ellipsis max-w-[150px] sm:max-w-none">
                                          ShopMe
                                    </span>
                              </div>

                              {/* Right side of Upper Navbar */}
                              <div className="flex items-center gap-4 sm:gap-6">
                                    {/* Search Box (Hidden on extra small, block on sm+) */}
                                    <div className="relative group hidden sm:block">
                                          <input
                                                type="text"
                                                placeholder="search"
                                                className="w-[120px] sm:w-[150px] md:w-[200px] group-hover:w-[250px] transition-all rounded-full duration-300 border-gray-300 px-2 py-1 focus:outline-none focus:border-1"
                                          />
                                          <IoSearchSharp className="text-gray-500 group-hover:text-primary absolute top-1/2 -translate-y-1/2 right-3" />
                                    </div>

                                    {/* Hamburger Menu for Mobile (visible on sm:hidden, flex on smaller screens) */}
                                    <div className="sm:hidden flex items-center">
                                          <button onClick={toggleMenu} className="text-gray-700 focus:outline-none">
                                                {isMenuOpen ? <RxCross2 className="text-2xl" /> : <GiHamburgerMenu className="text-2xl" />}
                                          </button>
                                    </div>
                              </div>

                              {/* Action Buttons */}
                              <div className="hidden lg:flex justify-center space-x-12 items-center">
                                    <Link to="/signin" className="py-2 px-3 border rounded-md">
                                          Sign In
                                    </Link>
                                    <Link
                                          to="/create"
                                          className="bg-gradient-to-r from-orange-500 to-orange-800 py-2 px-3 border rounded-md"
                                    >
                                          Create an Account
                                    </Link>
                              </div>

                              {/* Hamburger Menu */}
                              <div className="lg:hidden md:flex flex-col justify-end">
                                    <button onClick={toggleNavbar}>
                                          {mobileDrawerOpen ? <X /> : <Menu />}
                                    </button>
                              </div>
                        </div>

                        {/* Mobile Drawer */}
                        {mobileDrawerOpen && (
                              <div className="fixed right-0 z-20 bg-neutral-900 w-full p-12 flex flex-col justify-center items-center lg:hidden">
                                    <ul>
                                          {navItems.map((item, index) => (
                                                <li key={index} className="py-4">
                                                      <Link to={item.href}>{item.label}</Link>
                                                </li>
                                          ))}
                                    </ul>
                                    <div className="flex space-x-6">
                                          <Link to="/signin" className="py-2 px-3 border rounded-md">
                                                Sign In
                                          </Link>
                                          <Link
                                                to="/create"
                                                className="py-2 px-3 rounded-md bg-gradient-to-r from-orange-500 to-orange-800"
                                          >
                                                Create an Account
                                          </Link>
                                    </div>
                              </div>
                        )}
                  </div>
            </nav>
      );
};

export default Navbar;